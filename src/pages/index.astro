---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import Contact from '~/components/widgets/Contact.astro';

const coverageSummary = 'Louth, Meath, Dublin, Kildare, Wicklow, Cavan, Monaghan, Westmeath, and Laois';

const metadata = {
  title: 'Network Setup and Wi-Fi Solutions Across Louth, Meath, Dublin and Nearby Counties | Unified Networks',
  ignoreTitleTemplate: true,
  description: `Wi-Fi troubleshooting, network setup, and Starlink installation for homes and small businesses across ${coverageSummary}.`,
};

const whatsappNumber = (import.meta.env.PUBLIC_WHATSAPP_NUMBER || '').replace(/\D/g, '');
const whatsappMessage = encodeURIComponent(
  'Hi Unified Networks, I need help with my internet or Wi-Fi setup.'
);
const whatsappHref = whatsappNumber ? `https://wa.me/${whatsappNumber}?text=${whatsappMessage}` : '/#contact';
const serviceAreas = [
  'County Louth',
  'County Meath',
  'County Dublin',
  'County Kildare',
  'County Wicklow',
  'County Cavan',
  'County Monaghan',
  'County Westmeath',
  'County Laois',
  'Drogheda',
  'Dundalk',
  'Navan',
  'Swords',
  'Naas',
  'Bray',
  'Mullingar',
  'Portlaoise',
];
const localBusinessSchema = {
  '@context': 'https://schema.org',
  '@type': 'LocalBusiness',
  name: 'Unified Networks',
  url: 'https://unifiednetworks.ie',
  serviceType: [
    'Wi-Fi troubleshooting',
    'Network setup and optimization',
    'Starlink installation',
    'Point-to-point wireless links',
  ],
  areaServed: serviceAreas.map((name) => ({ '@type': 'Place', name })),
  ...(whatsappNumber
    ? {
        telephone: `+${whatsappNumber}`,
        sameAs: [`https://wa.me/${whatsappNumber}`],
        contactPoint: [
          {
            '@type': 'ContactPoint',
            telephone: `+${whatsappNumber}`,
            contactType: 'customer support',
            areaServed: 'IE',
            availableLanguage: ['en'],
          },
        ],
      }
    : {}),
};

const contactProps = {
  id: 'contact',
  title: 'Ready to Fix Your Internet?',
  subtitle: `Tell us what is not working and we will recommend the right solution for your home or business across ${coverageSummary}.`,
  formName: 'consultation',
  button: 'Send Message',
  inputs: [
    {
      type: 'text',
      name: 'name',
      label: 'Your Name',
      placeholder: 'John Doe',
      required: true,
    },
    {
      type: 'email',
      name: 'email',
      label: 'Email Address',
      placeholder: 'you@example.com',
      required: true,
    },
    {
      type: 'tel',
      name: 'phone',
      label: 'Phone Number',
      placeholder: '08X XXX XXXX',
    },
    {
      type: 'text',
      name: 'location',
      label: 'Town or Eircode',
      placeholder: 'Town / Eircode (for example Navan / C15...)',
      required: true,
    },
  ],
  textarea: {
    name: 'message',
    label: 'Tell us about your internet issues',
    placeholder: 'Slow Wi-Fi, dead zones, unstable connection, Starlink setup, or another issue.',
    rows: 5,
    required: true,
  },
  disclaimer: {
    name: 'consent',
    label: 'I agree to be contacted about my request.',
    required: true,
  },
  description: 'We usually reply within one business day.',
};
---

<Layout metadata={metadata}>
  <script is:inline type="application/ld+json" set:html={JSON.stringify(localBusinessSchema)} />

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'Book Free Consultation',
        href: '/#contact',
        icon: 'tabler:phone',
      },
      {
        text: 'Chat on WhatsApp',
        href: whatsappHref,
        target: whatsappNumber ? '_blank' : undefined,
        icon: 'tabler:brand-whatsapp',
      },
    ]}
    image={{
      src: '~/assets/images/hero-image.png',
      alt: 'Unified Networks improving Wi-Fi coverage and internet reliability',
    }}
  >
    <Fragment slot="title">
      Slow Internet or Wi-Fi Dead Zones?
      <br />
      We Build Fast, Reliable Networks.
    </Fragment>

    <Fragment slot="subtitle">
      Expert network design, Wi-Fi optimization, and Starlink installation for homes and small businesses across
      {coverageSummary}. We remove blackspots, improve speed, and deliver stable coverage where you need it.
    </Fragment>
  </Hero>

  <Note
    title="Our Approach"
    description="Clear diagnostics, practical recommendations, and clean installations that are tailored to your property and usage."
  />

  <Features
    id="services"
    tagline="Network Services"
    title="Professional Solutions for Home and Business Connectivity"
    subtitle="From full network installs to targeted fixes, we deliver reliable performance with clear recommendations and no guesswork."
    items={[
      {
        title: 'Custom Network Design and Deployment',
        description:
          'We design and install network infrastructure with proper routing, switching, and Wi-Fi planning for stable performance.',
        icon: 'tabler:network',
      },
      {
        title: 'Wi-Fi Dead Zone Elimination',
        description:
          'We improve signal quality and place access points correctly so coverage is consistent across your property.',
        icon: 'tabler:wifi',
      },
      {
        title: 'Starlink Installation and Integration',
        description:
          'We install and optimize Starlink systems, then integrate them into your local network for reliable, usable speed.',
        icon: 'tabler:satellite',
      },
      {
        title: 'Point-to-Point and Outbuilding Links',
        description:
          'Connect outbuildings and remote areas with stable wireless links when cable runs are not practical.',
        icon: 'tabler:antenna-bars-5',
      },
      {
        title: 'Network Health Checks and Troubleshooting',
        description:
          'We diagnose bottlenecks, interference, and configuration issues, then provide clear fixes to restore performance.',
        icon: 'tabler:activity',
      },
      {
        title: 'Business-Grade Hardware Guidance',
        description:
          'Get practical recommendations on routers, switches, and access points that fit your needs and budget.',
        icon: 'tabler:settings-cog',
      },
    ]}
  />

  <FAQs
    id="faq"
    tagline="FAQ"
    title="Common Questions About Network Upgrades"
    subtitle="Answers to the questions we hear most before installations and troubleshooting visits."
    classes={{ container: 'max-w-5xl' }}
    items={[
      {
        title: 'How do I know if my router is the problem?',
        description:
          'If speed tests are good near the router but poor in other rooms, coverage design is usually the issue. We test both ISP throughput and in-home Wi-Fi to isolate the cause.',
      },
      {
        title: 'Can you fix dead zones without rewiring the whole building?',
        description:
          'Yes. In many cases we can solve dead zones with correctly placed access points and tuned channel planning. Wiring is recommended in some properties, but not always required.',
      },
      {
        title: 'Do you install and configure Starlink?',
        description:
          'Yes. We handle dish placement, alignment, network integration, and internal Wi-Fi distribution so Starlink works well across the property, not just at the router.',
      },
      {
        title: 'Can you connect a house to a shed or remote office?',
        description:
          'Yes. We deploy point-to-point wireless links for outbuildings and remote workspaces when cable runs are not practical.',
      },
      {
        title: 'Do you provide support after installation?',
        description:
          'Yes. We provide follow-up support and optimization recommendations, especially after layout changes, ISP upgrades, or new device additions.',
      },
      {
        title: 'What areas do you currently cover?',
        description:
          'We serve Louth, Meath, Dublin, Kildare, Wicklow, Cavan, Monaghan, Westmeath, and Laois, including Drogheda, Dundalk, Navan, Swords, Naas, Bray, Mullingar, and Portlaoise. Share your town or Eircode and we will confirm coverage.',
      },
      {
        title: 'How quickly can I get started?',
        description:
          'Most projects begin with a short consultation and site assessment. After that, we provide a clear scope and timeline for installation.',
      },
    ]}
  />

  <BlogLatestPosts
    title="Latest Network Tips and Guides"
  />

  <Contact {...contactProps} />
</Layout>
