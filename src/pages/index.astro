---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import BlogHighlightedPosts from '~/components/widgets/BlogHighlightedPosts.astro';
import Contact from '~/components/widgets/Contact.astro';
import { coverageSummary, services } from '~/data/services';

const metadata = {
  title:
    'Wi-Fi Installation, Structured Cabling, Managed Wi-Fi, and Starlink in Dublin and Surrounding Areas | Unified Networks',
  ignoreTitleTemplate: true,
  description: `Wi-Fi installation, structured cabling, managed Wi-Fi plans, site surveys with heatmaps, guest Wi-Fi setup, event connectivity, and failover internet solutions for homes and businesses across ${coverageSummary}.`,
};

const defaultContactNumber = '353874118332';
const contactNumber = (
  import.meta.env.PUBLIC_CONTACT_PHONE ||
  import.meta.env.PUBLIC_WHATSAPP_NUMBER ||
  defaultContactNumber
).replace(/\D/g, '');
const whatsappNumber = (import.meta.env.PUBLIC_WHATSAPP_NUMBER || contactNumber).replace(/\D/g, '');
const whatsappMessage = encodeURIComponent(
  'Hi Unified Networks, I need help with my internet or Wi-Fi setup.'
);
const phoneHref = `tel:+${contactNumber}`;
const whatsappHref = `https://wa.me/${whatsappNumber}?text=${whatsappMessage}`;
const serviceAreas = [
  'Dublin City',
  'Fingal',
  'South Dublin',
  'Dun Laoghaire-Rathdown',
  'County Dublin',
  'County Meath',
  'County Kildare',
  'County Wicklow',
  'County Louth',
  'County Cavan',
  'County Monaghan',
  'County Westmeath',
  'County Laois',
  'Swords',
  'Blanchardstown',
  'Tallaght',
  'Lucan',
  'Dundrum',
  'Bray',
  'Naas',
  'Navan',
  'Drogheda',
  'Dundalk',
  'Mullingar',
  'Portlaoise',
];
const localBusinessSchema = {
  '@context': 'https://schema.org',
  '@type': 'LocalBusiness',
  name: 'Unified Networks',
  url: 'https://unifiednetworks.ie',
  serviceType: services.map((service) => service.title),
  areaServed: serviceAreas.map((name) => ({ '@type': 'Place', name })),
  telephone: `+${contactNumber}`,
  sameAs: [`https://wa.me/${whatsappNumber}`],
  contactPoint: [
    {
      '@type': 'ContactPoint',
      telephone: `+${contactNumber}`,
      contactType: 'customer support',
      areaServed: 'IE',
      availableLanguage: ['en'],
    },
  ],
};
const trustStripDescription = `Serving ${coverageSummary}. We usually reply within one business day. Call <a class="underline" href="${phoneHref}">+${contactNumber}</a> or <a class="underline" href="${whatsappHref}" target="_blank" rel="noopener noreferrer">chat on WhatsApp</a>.`;
const serviceCards = services.map((service) => ({
  title: service.title,
  description: service.cardDescription,
  icon: service.icon,
  callToAction: {
    text: 'View service page',
    href: `/services/${service.slug}`,
  },
}));

const contactProps = {
  id: 'contact',
  title: 'Ready to Fix Your Internet?',
  subtitle: `Tell us what is not working and we will recommend the right solution for your home or business across ${coverageSummary}.`,
  formName: 'consultation',
  button: 'Send Message',
  inputs: [
    {
      type: 'text',
      name: 'name',
      label: 'Your Name',
      placeholder: 'John Doe',
      required: true,
    },
    {
      type: 'email',
      name: 'email',
      label: 'Email Address',
      placeholder: 'you@example.com',
      required: true,
    },
    {
      type: 'tel',
      name: 'phone',
      label: 'Phone Number',
      placeholder: '08X XXX XXXX',
    },
    {
      type: 'text',
      name: 'location',
      label: 'Town or Eircode',
      placeholder: 'Town / Eircode (for example Dublin 15 / D15...)',
      required: true,
    },
  ],
  textarea: {
    name: 'message',
    label: 'Tell us about your internet issues',
    placeholder: 'Slow Wi-Fi, dead zones, event connectivity, failover setup, Starlink, or another issue.',
    rows: 5,
    required: true,
  },
  disclaimer: {
    name: 'consent',
    label: 'I agree to be contacted about my request.',
    required: true,
  },
  description: 'We usually reply within one business day.',
};
---

<Layout metadata={metadata}>
  <script is:inline type="application/ld+json" set:html={JSON.stringify(localBusinessSchema)} />

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'Book Free Consultation',
        href: '/#contact',
        icon: 'tabler:mail',
      },
      {
        text: 'Call Now',
        href: phoneHref,
        icon: 'tabler:phone-call',
      },
      {
        text: 'Chat on WhatsApp',
        href: whatsappHref,
        target: '_blank',
        icon: 'tabler:brand-whatsapp',
      },
    ]}
    image={{
      src: '~/assets/images/hero-image.png',
      alt: 'Unified Networks improving Wi-Fi coverage and internet reliability',
    }}
  >
    <Fragment slot="title">
      Slow Internet or Wi-Fi Dead Zones?
      <br />
      We Build Fast, Reliable Networks.
    </Fragment>

    <Fragment slot="subtitle">
      Expert network design, Wi-Fi optimization, and Starlink installation for homes and businesses across Dublin and surrounding areas, including {coverageSummary}. We also deliver event Wi-Fi and failover internet setups for high-demand and business-critical use.
    </Fragment>
  </Hero>

  <Features
    id="services"
    tagline="Network Services"
    title="Wi-Fi, Cabling, and Internet Services for Homes and Businesses"
    subtitle="Clear, practical services for Wi-Fi coverage, structured cabling, guest networks, managed support, Starlink, events, and failover resilience. Open each service page for full details."
    items={serviceCards}
  />

  <Note icon="tabler:info-square" title="Coverage, Fast Response, Direct Contact." description={trustStripDescription} />

  <FAQs
    id="faq"
    tagline="FAQ"
    title="Common Questions About Connectivity Projects"
    subtitle="Answers to the questions we hear before installations, event deployments, and troubleshooting visits."
    classes={{ container: 'max-w-5xl' }}
    items={[
      {
        title: 'Do I need to replace everything, or can you improve what I already have?',
        description:
          'In many homes and businesses, we can improve performance using parts of the existing setup. If upgrades are needed, we explain exactly what to change and why, so you do not waste money on unnecessary gear.',
      },
      {
        title: 'Can you do structured cabling as a standalone service?',
        description:
          'Yes. We provide standalone structured cabling for homes and businesses, including Cat6/Cat6a runs and backbone planning for reliable long-term performance.',
      },
      {
        title: 'Do you offer monthly managed Wi-Fi and guest Wi-Fi setup?',
        description:
          'Yes. We offer monthly managed Wi-Fi support and can set up separate guest and staff networks for businesses and venues.',
      },
      {
        title: 'We have Wi-Fi blackspots in our house. Do you do only businesses, or domestic too?',
        description:
          'We do both homes and businesses. We specialize in blackspot elimination, best-practice Wi-Fi design, and reliable Wi-Fi service so coverage is strong and stable where you actually use it.',
      },
      {
        title: 'Do you install and configure Starlink?',
        description:
          'Yes. We handle dish placement, alignment, network integration, and internal Wi-Fi distribution so Starlink works well across the property, not just at the router.',
      },
      {
        title: 'Can you provide internet and Wi-Fi for large events or festivals?',
        description:
          'Yes. We provide event broadband and managed Wi-Fi for high-attendance events, including temporary deployments. You can rent equipment for the event period or buy the hardware and have us install it as a permanent setup.',
      },
      {
        title: 'Do you offer failover internet if our main broadband goes down?',
        description:
          'Yes. We configure automatic failover so your connection switches to a backup link if the primary service fails. This is ideal for businesses, venues, and remote operations where downtime is costly.',
      },
      {
        title: 'Can you connect a house to a shed or remote office?',
        description:
          'Yes. We deploy point-to-point wireless links for outbuildings and remote workspaces when cable runs are not practical.',
      },
      {
        title: 'Do you provide support after installation?',
        description:
          'Yes. We provide follow-up support and optimization recommendations, especially after layout changes, ISP upgrades, or new device additions.',
      },
      {
        title: 'What areas do you currently cover?',
        description:
          'Dublin and surrounding areas are our main focus, including Fingal, South Dublin, Dun Laoghaire-Rathdown, Meath, Kildare, Wicklow, Louth, Westmeath, Cavan, Monaghan, and Laois. Share your town or Eircode and we will confirm coverage.',
      },
      {
        title: 'How quickly can I get started?',
        description:
          'Most projects begin with a short consultation and site assessment. After that, we provide a clear scope and timeline for installation.',
      },
    ]}
  />

  <Contact {...contactProps} />

  <BlogHighlightedPosts
    title="Start Here: Most Useful Network Guides"
    information="These are the four guides most likely to help you make a confident buying decision and avoid expensive mistakes."
    postSlugs={[
      'how-to-tell-slow-internet-vs-weak-wifi',
      'best-ways-to-boost-wifi-signal-at-home',
      'new-build-homes-wifi-blackspots-cat6-planning',
      'starlink-order-and-installation-guide-ireland',
    ]}
  />
</Layout>
